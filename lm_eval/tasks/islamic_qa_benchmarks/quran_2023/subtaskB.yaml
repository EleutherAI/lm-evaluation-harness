task: islamic_qa_benchmarks_quran_2023_subtaskB
dataset_kwargs:
  data_files:
    test: ./islamic_qa_benchmarks/Quran_QA_2023/quran_2023_test.json
dataset_path: json
dataset_name: null
test_split: test

output_type: generate_until

doc_to_text: |
  Given a Qur’anic passage that consists of consecutive verses from a Surah of the Holy Qur’an, and a free-text question in Modern Standard Arabic (MSA) about that passage, extract all spans of text stated in the passage that answer the question. Each answer must be copied exactly as it appears in the passage. Do not infer or generate answers that are not present in the passage.
  Qur’anic passage:
  "{{ passage }}"

  Question:
  "{{ question }}"

  The output format should be a list of exact text spans taken directly from the passage.
  If no span answers the question, return an empty list [].
  Output only the spans themselves (in Arabic), without explanations.

  The extracted answer spans are:
doc_to_target: "{{ answers }}"

generation_kwargs:
  until:
    - "<end_of_turn>"
    - "<eos>"
    - "</s>"
    - "<|end_of_text|>"
    - "<|eot_id|>"
    - "<|endoftext|>"
  do_sample: false
  temperature: 0.0
  max_length: 4096
  
# process_results: !function utils.post_process

metric_list:
  - metric: acc
    aggregation: !function utils.evaluate
    higher_is_better: true

metadata:
  version: 1.0