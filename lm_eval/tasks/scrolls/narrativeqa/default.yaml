include: ../scroll_multiplechoice_task_yaml
task: scrolls_narrativeqa
dataset_name: narrative_qa
output_type: greedy_until
process_docs: !function ../preprocessors.process_docs_prepended_question
doc_to_text: "{{text}}\n\nQuestion: {{question}}\nAnswer:"
doc_to_target: "{{outputs| join(', ')}}"
should_decontaminate: true
doc_to_decontamination_query: input
metric_list:
  - metric: f1
    aggregation: !function ../metrics.agg_f1
    higher_is_better: true
generation_kwargs:
  until:
    - "\n"
