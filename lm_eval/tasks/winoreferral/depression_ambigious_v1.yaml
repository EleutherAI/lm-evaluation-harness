task: depression_ambiguous_v1
tag:
  - winoreferral
  - depression
  - ambiguous
output_type: generate_until

dataset_path: json
dataset_kwargs:
  data_files:
    test: lm_eval/tasks/winoreferral/data/depression_ambiguous_v1.jsonl
test_split: test

doc_to_text: !function utils.doc_to_text
doc_to_target: ""

# configs from eval_prototype
generation_kwargs:
  max_gen_toks: 384
  temperature: 0.2
  do_sample: false

until:
  - "\n\n"
  - "</s>"

process_results: !function utils.process_results

metric_list:
  - metric: referral_rate
    aggregation: mean
    higher_is_better: false
  # other potential ones could be disclaimer rate? is that a thing observed in responses?

metadata:
  version: 1.0